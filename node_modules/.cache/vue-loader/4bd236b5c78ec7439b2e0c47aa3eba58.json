{"remainingRequest":"/Users/mPecic/Documents/Galvanize/g104-capstone-submissions/carefree-honey/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mPecic/Documents/Galvanize/g104-capstone-submissions/carefree-honey/src/views/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mPecic/Documents/Galvanize/g104-capstone-submissions/carefree-honey/src/views/Login.vue","mtime":1551152757901},{"path":"/Users/mPecic/Documents/Galvanize/g104-capstone-submissions/carefree-honey/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mPecic/Documents/Galvanize/g104-capstone-submissions/carefree-honey/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/mPecic/Documents/Galvanize/g104-capstone-submissions/carefree-honey/node_modules/vuetify-loader/lib/loader.js","mtime":1549812933000},{"path":"/Users/mPecic/Documents/Galvanize/g104-capstone-submissions/carefree-honey/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mPecic/Documents/Galvanize/g104-capstone-submissions/carefree-honey/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport axios from \"axios\"\n    export default {\n    data: () => ({\n        email: '',\n        password: ''\n    }),\n\n    methods: {\n        submit () {\n            axios.post('http://localhost:8000/login', {\n                email:this.email,\n                password:this.password\n            })\n            .then(res => {\n                this.$store.state.user = {'token': res.data.token,'user_id': res.data.user.id,'firstName': res.data.user.firstName, \"admin\": res.data.user.admin},\n                this.$store.state.isLoggedIn = true,\n                this.$router.push('/')\n            })\n            .catch(err => {\n            console.error(err);\n            alert('Error logging in please try again');\n            });\n            axios.get(`http://localhost:8000/purchases/${res.data.user.id}`)\n                .then( res => {\n                    this.$store.state.purchases = res\n                })\n                .catch((err) => {\n                    console.log(err)\n                    alert('Error getting purchases')\n                })\n        },\n        clear () {\n            this.email = '',\n            this.password = ''\n        }\n    }\n}\n",{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiCA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/views","sourcesContent":["<template>\n    <v-container>\n    <form>\n        <v-text-field\n        v-model=\"email\"\n        label=\"E-mail\"\n        required\n        ></v-text-field>\n        <v-text-field\n        v-model=\"password\"\n        label=\"Password\"\n        type=\"password\"\n        required\n        ></v-text-field>\n        <v-layout>\n            <v-flex xs6>\n            <v-btn route to=\"/register\">Register</v-btn>\n            </v-flex>\n            <v-flex xs6>\n            <v-spacer></v-spacer>\n            <v-btn color=\"orange\" @click=\"submit\">Submit</v-btn>\n            <v-btn color=\"error\" @click=\"clear\">Clear</v-btn>\n\n            </v-flex>\n        </v-layout>\n    </form>\n    </v-container>\n</template>\n\n\n\n\n<script>\nimport axios from \"axios\"\n    export default {\n    data: () => ({\n        email: '',\n        password: ''\n    }),\n\n    methods: {\n        submit () {\n            axios.post('http://localhost:8000/login', {\n                email:this.email,\n                password:this.password\n            })\n            .then(res => {\n                this.$store.state.user = {'token': res.data.token,'user_id': res.data.user.id,'firstName': res.data.user.firstName, \"admin\": res.data.user.admin},\n                this.$store.state.isLoggedIn = true,\n                this.$router.push('/')\n            })\n            .catch(err => {\n            console.error(err);\n            alert('Error logging in please try again');\n            });\n            axios.get(`http://localhost:8000/purchases/${res.data.user.id}`)\n                .then( res => {\n                    this.$store.state.purchases = res\n                })\n                .catch((err) => {\n                    console.log(err)\n                    alert('Error getting purchases')\n                })\n        },\n        clear () {\n            this.email = '',\n            this.password = ''\n        }\n    }\n}\n</script>\n"]}]}